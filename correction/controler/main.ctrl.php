<?php
// Controleur principal : celui qui est utilisé au démarrage
// Etat : rien

// Utilisation de la classe View du framework
require_once('../framework/view.class.php');
// Utilisation du DAO
require_once("../model/DAO.class.php");

//////////////////////////////////////////////////////////////////////////////
// PARTIE RECUPERATION DES DONNEES
//////////////////////////////////////////////////////////////////////////////

// aucune donnée


//////////////////////////////////////////////////////////////////////////////
// PARTIE USAGE DU MODELE
//////////////////////////////////////////////////////////////////////////////


$dao = new DAO();


//////////////////////////////////////////////////////////////////////////////
// PARTIE GESTION DE LA VUE
//////////////////////////////////////////////////////////////////////////////

//////////////// Q06 : A COMPLETER (DEBUT) ////////////////
// ... m4_divert(-1)

// Création de l'objet vue
$view = new View('main.view.php');

// Passe à la vue le nombre de produits
$view->nbProduct = $dao->nbProduct();

$view->page = 1;
$view->pageMin = 1;
$view->pageMax = 1;

// Passe à la vue aucun produits à afficher
$view->products = array();

// Appel la vue
$view->show();

// m4_divert(0)

//////////////// Q06 : A COMPLETER (FIN)   ////////////////


 ?>
